#!/bin/bash

COMMIT_MSG_FILE=$1
MSG_CONTENT=$(cat "$COMMIT_MSG_FILE")

# 🔍 宽松检查逻辑：
# 只有当提交信息里依然包含 "请在此输入功能描述(必填)" 这几个字时，才报错。
# 只要你删掉了这几个字，或者改成了别的任何内容，都放行！

if echo "$MSG_CONTENT" | grep -q "请在此输入功能描述(必填)"; then
    echo "❌ 提交失败！"
    echo "💡 提示：你忘记修改合并描述了。请把那行“请在此输入...”替换成实际的改动说明。"
    exit 1
fi

# 其他情况一律放行
exit 0